{
  "id": "feature_1764931095.599644",
  "name": "Export Compliance Records",
  "description": "As an Alliant Admin, I can export compliance records data to Excel format for reporting and analysis",
  "created_at": "2025-12-05T16:08:15.599644",
  "updated_at": "2025-12-05T16:08:18.419912",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am on the compliance records dashboard"
    },
    {
      "keyword": "And",
      "text": "I am logged in as an Alliant Admin"
    }
  ],
  "scenarios": [
    {
      "name": "Successfully export all compliance records without filters",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "no filters are applied"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should download automatically"
        },
        {
          "keyword": "And",
          "text": "the file name should be in format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\""
        },
        {
          "keyword": "And",
          "text": "the file should contain all compliance records"
        },
        {
          "keyword": "And",
          "text": "all visible columns from the list view should be included"
        }
      ]
    },
    {
      "name": "Successfully export filtered compliance records",
      "tags": [
        "@positive",
        "@filter"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "I have applied a status filter"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should download automatically"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the filtered records"
        },
        {
          "keyword": "And",
          "text": "records not matching the filter should be excluded"
        }
      ]
    },
    {
      "name": "Successfully export searched compliance records",
      "tags": [
        "@positive",
        "@search"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "I have entered a search term in the search field"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should download automatically"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the searched records"
        },
        {
          "keyword": "And",
          "text": "records not matching the search criteria should be excluded"
        }
      ]
    },
    {
      "name": "Export includes all visible columns from list view",
      "tags": [
        "@positive",
        "@columns"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed with multiple columns"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded Excel file should contain all visible columns"
        },
        {
          "keyword": "And",
          "text": "column headers should match the list view headers"
        },
        {
          "keyword": "And",
          "text": "data should be properly formatted in each column"
        }
      ]
    },
    {
      "name": "Export generates correct filename with current date",
      "tags": [
        "@positive",
        "@filename"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded file should be named \"COI_Compliance_Records_YYYY-MM-DD.xlsx\""
        },
        {
          "keyword": "And",
          "text": "the date in the filename should match today's date"
        },
        {
          "keyword": "And",
          "text": "the file format should be Excel xlsx"
        }
      ]
    },
    {
      "name": "Export with combined filters and search",
      "tags": [
        "@positive",
        "@combined"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "I have applied multiple filters"
        },
        {
          "keyword": "And",
          "text": "I have entered a search term"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded file should contain only records matching both filters and search"
        },
        {
          "keyword": "And",
          "text": "all visible columns should be included in the export"
        }
      ]
    },
    {
      "name": "Export button unavailable when no records exist",
      "tags": [
        "@negative",
        "@empty"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "the compliance records list is empty"
        },
        {
          "keyword": "When",
          "text": "I view the export options"
        },
        {
          "keyword": "Then",
          "text": "the \"Export\" button should be disabled"
        },
        {
          "keyword": "And",
          "text": "I should see a message indicating no records available for export"
        }
      ]
    },
    {
      "name": "Export fails with network connectivity issues",
      "tags": [
        "@negative",
        "@network"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "the network connection is interrupted"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about export failure"
        },
        {
          "keyword": "And",
          "text": "no file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "I should be able to retry the export"
        }
      ]
    },
    {
      "name": "Export handles server timeout gracefully",
      "tags": [
        "@negative",
        "@timeout"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have a large number of compliance records displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "And",
          "text": "the server takes too long to respond"
        },
        {
          "keyword": "Then",
          "text": "I should see a timeout error message"
        },
        {
          "keyword": "And",
          "text": "the export operation should be cancelled"
        },
        {
          "keyword": "And",
          "text": "I should be able to attempt the export again"
        }
      ]
    },
    {
      "name": "Export with insufficient permissions",
      "tags": [
        "@negative",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "And",
          "text": "my user permissions do not allow data export"
        },
        {
          "keyword": "When",
          "text": "I attempt to click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the \"Export\" button should be disabled or hidden"
        },
        {
          "keyword": "And",
          "text": "I should see a message about insufficient permissions"
        }
      ]
    },
    {
      "name": "Export handles maximum record limit boundary",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have the maximum allowed number of compliance records displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should complete successfully"
        },
        {
          "keyword": "And",
          "text": "all records up to the maximum limit should be included"
        },
        {
          "keyword": "And",
          "text": "the file should be properly formatted"
        }
      ]
    },
    {
      "name": "Export handles single record boundary",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have exactly one compliance record displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should complete successfully"
        },
        {
          "keyword": "And",
          "text": "the single record should be included with all columns"
        },
        {
          "keyword": "And",
          "text": "the Excel file should have proper headers"
        }
      ]
    },
    {
      "name": "Export with special characters in data",
      "tags": [
        "@edge-case",
        "@data"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records containing special characters and unicode text"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should complete successfully"
        },
        {
          "keyword": "And",
          "text": "special characters should be properly encoded in the Excel file"
        },
        {
          "keyword": "And",
          "text": "unicode text should display correctly"
        }
      ]
    },
    {
      "name": "Alternative export through keyboard shortcut",
      "tags": [
        "@alternative",
        "@accessibility"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have compliance records displayed in the list view"
        },
        {
          "keyword": "When",
          "text": "I use the keyboard shortcut for export"
        },
        {
          "keyword": "Then",
          "text": "the export should trigger successfully"
        },
        {
          "keyword": "And",
          "text": "an Excel file should download with all visible records"
        }
      ]
    },
    {
      "name": "Export after clearing and reapplying filters",
      "tags": [
        "@alternative",
        "@workflow"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have applied filters to the compliance records"
        },
        {
          "keyword": "And",
          "text": "I clear all filters"
        },
        {
          "keyword": "And",
          "text": "I apply new different filters"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should contain only records matching the new filters"
        },
        {
          "keyword": "And",
          "text": "records from the previous filter state should not be included"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Export Compliance Records\n  As an Alliant Admin, I can export compliance records data to Excel format for reporting and analysis\n\n  Background:\n    Given I am on the compliance records dashboard\n    And I am logged in as an Alliant Admin\n\n  @smoke @positive\n  Scenario: Successfully export all compliance records without filters\n    Given I have compliance records displayed in the list view\n    And no filters are applied\n    When I click the \"Export\" button\n    Then an Excel file should download automatically\n    And the file name should be in format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\"\n    And the file should contain all compliance records\n    And all visible columns from the list view should be included\n\n  @positive @filter\n  Scenario: Successfully export filtered compliance records\n    Given I have compliance records displayed in the list view\n    And I have applied a status filter\n    When I click the \"Export\" button\n    Then an Excel file should download automatically\n    And the file should contain only the filtered records\n    And records not matching the filter should be excluded\n\n  @positive @search\n  Scenario: Successfully export searched compliance records\n    Given I have compliance records displayed in the list view\n    And I have entered a search term in the search field\n    When I click the \"Export\" button\n    Then an Excel file should download automatically\n    And the file should contain only the searched records\n    And records not matching the search criteria should be excluded\n\n  @positive @columns\n  Scenario: Export includes all visible columns from list view\n    Given I have compliance records displayed with multiple columns\n    When I click the \"Export\" button\n    Then the downloaded Excel file should contain all visible columns\n    And column headers should match the list view headers\n    And data should be properly formatted in each column\n\n  @positive @filename\n  Scenario: Export generates correct filename with current date\n    Given I am viewing the compliance records list\n    When I click the \"Export\" button\n    Then the downloaded file should be named \"COI_Compliance_Records_YYYY-MM-DD.xlsx\"\n    And the date in the filename should match today's date\n    And the file format should be Excel xlsx\n\n  @positive @combined\n  Scenario: Export with combined filters and search\n    Given I have compliance records displayed in the list view\n    And I have applied multiple filters\n    And I have entered a search term\n    When I click the \"Export\" button\n    Then the downloaded file should contain only records matching both filters and search\n    And all visible columns should be included in the export\n\n  @negative @empty\n  Scenario: Export button unavailable when no records exist\n    Given the compliance records list is empty\n    When I view the export options\n    Then the \"Export\" button should be disabled\n    And I should see a message indicating no records available for export\n\n  @negative @network\n  Scenario: Export fails with network connectivity issues\n    Given I have compliance records displayed in the list view\n    And the network connection is interrupted\n    When I click the \"Export\" button\n    Then I should see an error message about export failure\n    And no file should be downloaded\n    And I should be able to retry the export\n\n  @negative @timeout\n  Scenario: Export handles server timeout gracefully\n    Given I have a large number of compliance records displayed\n    When I click the \"Export\" button\n    And the server takes too long to respond\n    Then I should see a timeout error message\n    And the export operation should be cancelled\n    And I should be able to attempt the export again\n\n  @negative @permissions\n  Scenario: Export with insufficient permissions\n    Given I have compliance records displayed in the list view\n    And my user permissions do not allow data export\n    When I attempt to click the \"Export\" button\n    Then the \"Export\" button should be disabled or hidden\n    And I should see a message about insufficient permissions\n\n  @edge-case @boundary\n  Scenario: Export handles maximum record limit boundary\n    Given I have the maximum allowed number of compliance records displayed\n    When I click the \"Export\" button\n    Then the export should complete successfully\n    And all records up to the maximum limit should be included\n    And the file should be properly formatted\n\n  @edge-case @boundary\n  Scenario: Export handles single record boundary\n    Given I have exactly one compliance record displayed\n    When I click the \"Export\" button\n    Then the export should complete successfully\n    And the single record should be included with all columns\n    And the Excel file should have proper headers\n\n  @edge-case @data\n  Scenario: Export with special characters in data\n    Given I have compliance records containing special characters and unicode text\n    When I click the \"Export\" button\n    Then the export should complete successfully\n    And special characters should be properly encoded in the Excel file\n    And unicode text should display correctly\n\n  @alternative @accessibility\n  Scenario: Alternative export through keyboard shortcut\n    Given I have compliance records displayed in the list view\n    When I use the keyboard shortcut for export\n    Then the export should trigger successfully\n    And an Excel file should download with all visible records\n\n  @alternative @workflow\n  Scenario: Export after clearing and reapplying filters\n    Given I have applied filters to the compliance records\n    And I clear all filters\n    And I apply new different filters\n    When I click the \"Export\" button\n    Then the export should contain only records matching the new filters\n    And records from the previous filter state should not be included"
}