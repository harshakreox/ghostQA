{
  "id": "feature_1764931367.342773",
  "name": "Edit Compliance Record - Client Admin",
  "description": "Client Admin users can update compliance record details through an edit form while Requirements tab remains read-only and system calculates overall status",
  "created_at": "2025-12-05T16:12:47.342773",
  "updated_at": "2025-12-05T16:12:49.999804",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am logged in as a Client Admin user"
    },
    {
      "keyword": "And",
      "text": "I am on the Compliance Dashboard list view"
    },
    {
      "keyword": "And",
      "text": "there are existing compliance records displayed"
    }
  ],
  "scenarios": [
    {
      "name": "Successfully edit compliance record and save changes",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I can see a compliance record in the list"
        },
        {
          "keyword": "When",
          "text": "I click the Edit button for a compliance record"
        },
        {
          "keyword": "Then",
          "text": "I should be navigated to the compliance record form in edit mode"
        },
        {
          "keyword": "And",
          "text": "the form should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "I should see auto-populated fields from Focus"
        },
        {
          "keyword": "When",
          "text": "I update editable fields with valid information"
        },
        {
          "keyword": "And",
          "text": "I click the Save button"
        },
        {
          "keyword": "Then",
          "text": "I should see the success message \"Compliance record updated successfully\""
        },
        {
          "keyword": "And",
          "text": "I should be redirected to the Compliance Dashboard list view"
        },
        {
          "keyword": "And",
          "text": "the updated data should reflect in the list view"
        }
      ]
    },
    {
      "name": "Edit form displays pre-filled data correctly",
      "tags": [
        "@positive",
        "@data-validation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have a compliance record with existing data"
        },
        {
          "keyword": "When",
          "text": "I click the Edit button for that record"
        },
        {
          "keyword": "Then",
          "text": "the First Name field should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "the Last Name field should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "the Company Name field should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "the Contractor ID field should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "the Email ID field should be pre-filled with existing data"
        },
        {
          "keyword": "And",
          "text": "existing attachments should be visible"
        }
      ]
    },
    {
      "name": "Requirements tab is non-editable for Client Admin",
      "tags": [
        "@positive",
        "@access-control"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "When",
          "text": "I navigate to the Requirements tab"
        },
        {
          "keyword": "Then",
          "text": "the Requirements tab should be visible but non-editable"
        },
        {
          "keyword": "And",
          "text": "I should not be able to modify requirement fields"
        },
        {
          "keyword": "And",
          "text": "requirement fields should appear as read-only"
        }
      ]
    },
    {
      "name": "Attachments tab is visible and editable",
      "tags": [
        "@positive",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "When",
          "text": "I navigate to the Attachments tab"
        },
        {
          "keyword": "Then",
          "text": "the Attachments tab should be visible and editable"
        },
        {
          "keyword": "And",
          "text": "I should be able to view existing COI attachments"
        },
        {
          "keyword": "And",
          "text": "I should be able to add new attachments"
        },
        {
          "keyword": "And",
          "text": "I should be able to remove existing attachments"
        }
      ]
    },
    {
      "name": "Cancel button returns to list view without saving",
      "tags": [
        "@positive",
        "@navigation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "And",
          "text": "I have made changes to editable fields"
        },
        {
          "keyword": "When",
          "text": "I click the Cancel button"
        },
        {
          "keyword": "Then",
          "text": "I should be returned to the Compliance Dashboard list view"
        },
        {
          "keyword": "And",
          "text": "my changes should not be saved"
        },
        {
          "keyword": "And",
          "text": "the original data should remain unchanged"
        }
      ]
    },
    {
      "name": "Save and Cancel buttons are available in edit form",
      "tags": [
        "@positive",
        "@ui-elements"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I click the Edit button for a compliance record"
        },
        {
          "keyword": "When",
          "text": "the edit form loads"
        },
        {
          "keyword": "Then",
          "text": "I should see a Save button"
        },
        {
          "keyword": "And",
          "text": "I should see a Cancel button"
        },
        {
          "keyword": "And",
          "text": "both buttons should be clickable"
        }
      ]
    },
    {
      "name": "Validation error when saving with invalid data",
      "tags": [
        "@negative",
        "@validation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "When",
          "text": "I clear a required field"
        },
        {
          "keyword": "And",
          "text": "I click the Save button"
        },
        {
          "keyword": "Then",
          "text": "I should see a validation error message"
        },
        {
          "keyword": "And",
          "text": "the form should not be submitted"
        },
        {
          "keyword": "And",
          "text": "I should remain on the edit form"
        }
      ]
    },
    {
      "name": "Error handling when save operation fails",
      "tags": [
        "@negative",
        "@error-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "And",
          "text": "I have made valid changes"
        },
        {
          "keyword": "When",
          "text": "I click the Save button"
        },
        {
          "keyword": "And",
          "text": "the save operation encounters an error"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message"
        },
        {
          "keyword": "And",
          "text": "I should remain on the edit form"
        },
        {
          "keyword": "And",
          "text": "my changes should be preserved"
        }
      ]
    },
    {
      "name": "Edit form handles missing compliance record",
      "tags": [
        "@negative",
        "@error-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I attempt to edit a non-existent compliance record"
        },
        {
          "keyword": "When",
          "text": "the edit form tries to load"
        },
        {
          "keyword": "Then",
          "text": "I should see an appropriate error message"
        },
        {
          "keyword": "And",
          "text": "I should be redirected to the Compliance Dashboard"
        },
        {
          "keyword": "And",
          "text": "I should see a \"Record not found\" message"
        }
      ]
    },
    {
      "name": "Auto-populated fields from Focus are not editable",
      "tags": [
        "@edge-case",
        "@field-behavior"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "When",
          "text": "I view the auto-populated fields from Focus"
        },
        {
          "keyword": "Then",
          "text": "the First Name field should be read-only"
        },
        {
          "keyword": "And",
          "text": "the Last Name field should be read-only"
        },
        {
          "keyword": "And",
          "text": "the Company Name field should be read-only"
        },
        {
          "keyword": "And",
          "text": "the Contractor ID field should be read-only"
        },
        {
          "keyword": "And",
          "text": "the Email ID field should be read-only"
        }
      ]
    },
    {
      "name": "Overall Status is system-calculated and non-editable",
      "tags": [
        "@edge-case",
        "@system-behavior"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the compliance record edit form"
        },
        {
          "keyword": "When",
          "text": "I view the Overall Status field"
        },
        {
          "keyword": "Then",
          "text": "the Overall Status should be displayed as read-only"
        },
        {
          "keyword": "And",
          "text": "I should not be able to manually change the Overall Status"
        },
        {
          "keyword": "And",
          "text": "the status should be calculated by the system based on requirements"
        }
      ]
    },
    {
      "name": "Updated data reflects in Back Office view",
      "tags": [
        "@positive",
        "@cross-system"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have successfully updated a compliance record"
        },
        {
          "keyword": "And",
          "text": "I am redirected to the Compliance Dashboard"
        },
        {
          "keyword": "When",
          "text": "a Back Office user views the same record"
        },
        {
          "keyword": "Then",
          "text": "the updated data should be visible in the Back Office view"
        },
        {
          "keyword": "And",
          "text": "all changes should be accurately reflected"
        }
      ]
    },
    {
      "name": "Edit button navigation from list view",
      "tags": [
        "@positive",
        "@navigation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I locate the Edit button with pencil icon for a record"
        },
        {
          "keyword": "And",
          "text": "I click the Edit button"
        },
        {
          "keyword": "Then",
          "text": "I should be navigated to the edit form for that specific record"
        },
        {
          "keyword": "And",
          "text": "the correct record data should be loaded"
        }
      ]
    },
    {
      "name": "Form behavior with maximum attachment limit",
      "tags": [
        "@edge-case",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am in the Attachments tab of the edit form"
        },
        {
          "keyword": "And",
          "text": "I have reached the maximum number of allowed attachments"
        },
        {
          "keyword": "When",
          "text": "I attempt to add another attachment"
        },
        {
          "keyword": "Then",
          "text": "I should see a message indicating the attachment limit"
        },
        {
          "keyword": "And",
          "text": "the additional attachment should not be added"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Edit Compliance Record - Client Admin\n  Client Admin users can update compliance record details through an edit form while Requirements tab remains read-only and system calculates overall status\n\n  Background:\n    Given I am logged in as a Client Admin user\n    And I am on the Compliance Dashboard list view\n    And there are existing compliance records displayed\n\n  @smoke @positive\n  Scenario: Successfully edit compliance record and save changes\n    Given I can see a compliance record in the list\n    When I click the Edit button for a compliance record\n    Then I should be navigated to the compliance record form in edit mode\n    And the form should be pre-filled with existing data\n    And I should see auto-populated fields from Focus\n    When I update editable fields with valid information\n    And I click the Save button\n    Then I should see the success message \"Compliance record updated successfully\"\n    And I should be redirected to the Compliance Dashboard list view\n    And the updated data should reflect in the list view\n\n  @positive @data-validation\n  Scenario: Edit form displays pre-filled data correctly\n    Given I have a compliance record with existing data\n    When I click the Edit button for that record\n    Then the First Name field should be pre-filled with existing data\n    And the Last Name field should be pre-filled with existing data\n    And the Company Name field should be pre-filled with existing data\n    And the Contractor ID field should be pre-filled with existing data\n    And the Email ID field should be pre-filled with existing data\n    And existing attachments should be visible\n\n  @positive @access-control\n  Scenario: Requirements tab is non-editable for Client Admin\n    Given I am in the compliance record edit form\n    When I navigate to the Requirements tab\n    Then the Requirements tab should be visible but non-editable\n    And I should not be able to modify requirement fields\n    And requirement fields should appear as read-only\n\n  @positive @attachments\n  Scenario: Attachments tab is visible and editable\n    Given I am in the compliance record edit form\n    When I navigate to the Attachments tab\n    Then the Attachments tab should be visible and editable\n    And I should be able to view existing COI attachments\n    And I should be able to add new attachments\n    And I should be able to remove existing attachments\n\n  @positive @navigation\n  Scenario: Cancel button returns to list view without saving\n    Given I am in the compliance record edit form\n    And I have made changes to editable fields\n    When I click the Cancel button\n    Then I should be returned to the Compliance Dashboard list view\n    And my changes should not be saved\n    And the original data should remain unchanged\n\n  @positive @ui-elements\n  Scenario: Save and Cancel buttons are available in edit form\n    Given I click the Edit button for a compliance record\n    When the edit form loads\n    Then I should see a Save button\n    And I should see a Cancel button\n    And both buttons should be clickable\n\n  @negative @validation\n  Scenario: Validation error when saving with invalid data\n    Given I am in the compliance record edit form\n    When I clear a required field\n    And I click the Save button\n    Then I should see a validation error message\n    And the form should not be submitted\n    And I should remain on the edit form\n\n  @negative @error-handling\n  Scenario: Error handling when save operation fails\n    Given I am in the compliance record edit form\n    And I have made valid changes\n    When I click the Save button\n    And the save operation encounters an error\n    Then I should see an error message\n    And I should remain on the edit form\n    And my changes should be preserved\n\n  @negative @error-handling\n  Scenario: Edit form handles missing compliance record\n    Given I attempt to edit a non-existent compliance record\n    When the edit form tries to load\n    Then I should see an appropriate error message\n    And I should be redirected to the Compliance Dashboard\n    And I should see a \"Record not found\" message\n\n  @edge-case @field-behavior\n  Scenario: Auto-populated fields from Focus are not editable\n    Given I am in the compliance record edit form\n    When I view the auto-populated fields from Focus\n    Then the First Name field should be read-only\n    And the Last Name field should be read-only\n    And the Company Name field should be read-only\n    And the Contractor ID field should be read-only\n    And the Email ID field should be read-only\n\n  @edge-case @system-behavior\n  Scenario: Overall Status is system-calculated and non-editable\n    Given I am in the compliance record edit form\n    When I view the Overall Status field\n    Then the Overall Status should be displayed as read-only\n    And I should not be able to manually change the Overall Status\n    And the status should be calculated by the system based on requirements\n\n  @positive @cross-system\n  Scenario: Updated data reflects in Back Office view\n    Given I have successfully updated a compliance record\n    And I am redirected to the Compliance Dashboard\n    When a Back Office user views the same record\n    Then the updated data should be visible in the Back Office view\n    And all changes should be accurately reflected\n\n  @positive @navigation\n  Scenario: Edit button navigation from list view\n    Given I am viewing the compliance records list\n    When I locate the Edit button with pencil icon for a record\n    And I click the Edit button\n    Then I should be navigated to the edit form for that specific record\n    And the correct record data should be loaded\n\n  @edge-case @attachments\n  Scenario: Form behavior with maximum attachment limit\n    Given I am in the Attachments tab of the edit form\n    And I have reached the maximum number of allowed attachments\n    When I attempt to add another attachment\n    Then I should see a message indicating the attachment limit\n    And the additional attachment should not be added"
}