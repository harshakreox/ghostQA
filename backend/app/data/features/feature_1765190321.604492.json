{
  "id": "feature_1765190321.604492",
  "name": "Export Compliance Records",
  "description": "Alliant Admin can export compliance records data to Excel format for reporting and analysis",
  "created_at": "2025-12-08T16:08:41.604492",
  "updated_at": "2025-12-08T16:08:50.916816",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am on the compliance records dashboard"
    },
    {
      "keyword": "And",
      "text": "I am logged in as an Alliant Admin"
    }
  ],
  "scenarios": [
    {
      "name": "Successfully export all compliance records without filters",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "no filters are applied"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file name should follow the format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\""
        },
        {
          "keyword": "And",
          "text": "the file should contain all compliance records"
        },
        {
          "keyword": "And",
          "text": "the file should include all visible columns from the list view"
        }
      ]
    },
    {
      "name": "Successfully export filtered compliance records",
      "tags": [
        "@positive",
        "@filter"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have applied search filters to the records"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the filtered records"
        },
        {
          "keyword": "And",
          "text": "the file should include all visible columns from the list view"
        }
      ]
    },
    {
      "name": "Successfully export searched compliance records",
      "tags": [
        "@positive",
        "@search"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have entered search criteria"
        },
        {
          "keyword": "And",
          "text": "the list shows matching records"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the searched records"
        },
        {
          "keyword": "And",
          "text": "the file name should include today's date"
        }
      ]
    },
    {
      "name": "Export button generates correct file name format",
      "tags": [
        "@positive",
        "@filename"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded file name should start with \"COI_Compliance_Records_\""
        },
        {
          "keyword": "And",
          "text": "the file name should end with today's date in YYYY-MM-DD format"
        },
        {
          "keyword": "And",
          "text": "the file extension should be \".xlsx\""
        }
      ]
    },
    {
      "name": "Export includes all visible columns from list view",
      "tags": [
        "@positive",
        "@columns"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I can see multiple columns in the table"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded Excel file should contain all visible column headers"
        },
        {
          "keyword": "And",
          "text": "the data should be properly organized in corresponding columns"
        }
      ]
    },
    {
      "name": "Export combined filters and search results",
      "tags": [
        "@positive",
        "@combined"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have applied both filters and search criteria"
        },
        {
          "keyword": "And",
          "text": "the list shows records matching both conditions"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the downloaded file should contain only records matching both filters and search"
        },
        {
          "keyword": "And",
          "text": "the file should be in Excel format"
        }
      ]
    },
    {
      "name": "Export fails when no records are available",
      "tags": [
        "@negative",
        "@empty"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "no records are displayed in the table"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message indicating no records to export"
        },
        {
          "keyword": "And",
          "text": "no file should be downloaded"
        }
      ]
    },
    {
      "name": "Export button disabled when user lacks permissions",
      "tags": [
        "@negative",
        "@permission"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a user without export permissions"
        },
        {
          "keyword": "And",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I look for the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the \"Export\" button should be disabled or not visible"
        },
        {
          "keyword": "And",
          "text": "I should not be able to trigger an export"
        }
      ]
    },
    {
      "name": "Export fails due to system error",
      "tags": [
        "@negative",
        "@system-error"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "there is a system error preventing exports"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about export failure"
        },
        {
          "keyword": "And",
          "text": "no file should be downloaded"
        }
      ]
    },
    {
      "name": "Export with network interruption",
      "tags": [
        "@negative",
        "@network"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "And",
          "text": "the network connection is interrupted during export"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about connection failure"
        },
        {
          "keyword": "And",
          "text": "the export process should fail gracefully"
        }
      ]
    },
    {
      "name": "Export with maximum number of records",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "the system contains the maximum allowed number of records"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should complete successfully"
        },
        {
          "keyword": "And",
          "text": "all records should be included in the downloaded file"
        }
      ]
    },
    {
      "name": "Export with single record",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "only one record is displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain the single record with all column headers"
        }
      ]
    },
    {
      "name": "Multiple consecutive export attempts",
      "tags": [
        "@edge-case",
        "@multiple"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button multiple times rapidly"
        },
        {
          "keyword": "Then",
          "text": "each export should generate a separate file"
        },
        {
          "keyword": "And",
          "text": "all files should have the correct naming format"
        },
        {
          "keyword": "But",
          "text": "the system should handle multiple requests gracefully"
        }
      ]
    },
    {
      "name": "Export after refreshing the page",
      "tags": [
        "@alternative",
        "@refresh"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have applied some filters"
        },
        {
          "keyword": "When",
          "text": "I refresh the page"
        },
        {
          "keyword": "And",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the export should work based on the current view state"
        },
        {
          "keyword": "And",
          "text": "the file should be downloaded successfully"
        }
      ]
    },
    {
      "name": "Export while other users are accessing the system",
      "tags": [
        "@alternative",
        "@concurrent"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "other users are actively using the system"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "my export should complete successfully"
        },
        {
          "keyword": "And",
          "text": "it should not be affected by other users' activities"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Export Compliance Records\n  Alliant Admin can export compliance records data to Excel format for reporting and analysis\n\n  Background:\n    Given I am on the compliance records dashboard\n    And I am logged in as an Alliant Admin\n\n  @smoke @positive\n  Scenario: Successfully export all compliance records without filters\n    Given I am viewing the compliance records list\n    And no filters are applied\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file name should follow the format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\"\n    And the file should contain all compliance records\n    And the file should include all visible columns from the list view\n\n  @positive @filter\n  Scenario: Successfully export filtered compliance records\n    Given I am viewing the compliance records list\n    And I have applied search filters to the records\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain only the filtered records\n    And the file should include all visible columns from the list view\n\n  @positive @search\n  Scenario: Successfully export searched compliance records\n    Given I am viewing the compliance records list\n    And I have entered search criteria\n    And the list shows matching records\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain only the searched records\n    And the file name should include today's date\n\n  @positive @filename\n  Scenario: Export button generates correct file name format\n    Given I am viewing the compliance records list\n    When I click the \"Export\" button\n    Then the downloaded file name should start with \"COI_Compliance_Records_\"\n    And the file name should end with today's date in YYYY-MM-DD format\n    And the file extension should be \".xlsx\"\n\n  @positive @columns\n  Scenario: Export includes all visible columns from list view\n    Given I am viewing the compliance records list\n    And I can see multiple columns in the table\n    When I click the \"Export\" button\n    Then the downloaded Excel file should contain all visible column headers\n    And the data should be properly organized in corresponding columns\n\n  @positive @combined\n  Scenario: Export combined filters and search results\n    Given I am viewing the compliance records list\n    And I have applied both filters and search criteria\n    And the list shows records matching both conditions\n    When I click the \"Export\" button\n    Then the downloaded file should contain only records matching both filters and search\n    And the file should be in Excel format\n\n  @negative @empty\n  Scenario: Export fails when no records are available\n    Given I am viewing the compliance records list\n    And no records are displayed in the table\n    When I click the \"Export\" button\n    Then I should see an error message indicating no records to export\n    And no file should be downloaded\n\n  @negative @permission\n  Scenario: Export button disabled when user lacks permissions\n    Given I am logged in as a user without export permissions\n    And I am viewing the compliance records list\n    When I look for the \"Export\" button\n    Then the \"Export\" button should be disabled or not visible\n    And I should not be able to trigger an export\n\n  @negative @system-error\n  Scenario: Export fails due to system error\n    Given I am viewing the compliance records list\n    And there is a system error preventing exports\n    When I click the \"Export\" button\n    Then I should see an error message about export failure\n    And no file should be downloaded\n\n  @negative @network\n  Scenario: Export with network interruption\n    Given I am viewing the compliance records list\n    When I click the \"Export\" button\n    And the network connection is interrupted during export\n    Then I should see an error message about connection failure\n    And the export process should fail gracefully\n\n  @edge-case @boundary\n  Scenario: Export with maximum number of records\n    Given I am viewing the compliance records list\n    And the system contains the maximum allowed number of records\n    When I click the \"Export\" button\n    Then the export should complete successfully\n    And all records should be included in the downloaded file\n\n  @edge-case @boundary\n  Scenario: Export with single record\n    Given I am viewing the compliance records list\n    And only one record is displayed\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain the single record with all column headers\n\n  @edge-case @multiple\n  Scenario: Multiple consecutive export attempts\n    Given I am viewing the compliance records list\n    When I click the \"Export\" button multiple times rapidly\n    Then each export should generate a separate file\n    And all files should have the correct naming format\n    But the system should handle multiple requests gracefully\n\n  @alternative @refresh\n  Scenario: Export after refreshing the page\n    Given I am viewing the compliance records list\n    And I have applied some filters\n    When I refresh the page\n    And I click the \"Export\" button\n    Then the export should work based on the current view state\n    And the file should be downloaded successfully\n\n  @alternative @concurrent\n  Scenario: Export while other users are accessing the system\n    Given I am viewing the compliance records list\n    And other users are actively using the system\n    When I click the \"Export\" button\n    Then my export should complete successfully\n    And it should not be affected by other users' activities"
}