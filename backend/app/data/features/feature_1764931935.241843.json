{
  "id": "feature_1764931935.241843",
  "name": "View My Compliance Record - Driver/Non-Driver",
  "description": "Driver and Non-Driver users can view their own compliance record with personal information and certificate of insurance status",
  "created_at": "2025-12-05T16:22:15.241843",
  "updated_at": "2025-12-05T16:22:17.517009",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am on the application"
    },
    {
      "keyword": "And",
      "text": "I am logged in as a driver or non-driver user"
    }
  ],
  "scenarios": [
    {
      "name": "Driver successfully views their compliance record",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a driver user"
        },
        {
          "keyword": "When",
          "text": "I navigate to my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should see the header \"My Compliance Record\""
        },
        {
          "keyword": "And",
          "text": "I should see my name displayed"
        },
        {
          "keyword": "And",
          "text": "I should see my contractor ID"
        },
        {
          "keyword": "And",
          "text": "I should see my email address"
        },
        {
          "keyword": "And",
          "text": "I should see the attachments tab"
        }
      ]
    },
    {
      "name": "Non-driver successfully views their compliance record",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a non-driver user"
        },
        {
          "keyword": "When",
          "text": "I navigate to my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should see the header \"My Compliance Record\""
        },
        {
          "keyword": "And",
          "text": "I should see my personal information displayed"
        },
        {
          "keyword": "And",
          "text": "I should see my contractor ID"
        },
        {
          "keyword": "And",
          "text": "I should see my email address"
        }
      ]
    },
    {
      "name": "User views certificate of insurance in attachments tab",
      "tags": [
        "@positive",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing my compliance record"
        },
        {
          "keyword": "And",
          "text": "I have a certificate of insurance on file"
        },
        {
          "keyword": "When",
          "text": "I click on the \"Attachments\" tab"
        },
        {
          "keyword": "Then",
          "text": "I should see my certificate of insurance attachment"
        },
        {
          "keyword": "And",
          "text": "I should be able to view the attachment details"
        }
      ]
    },
    {
      "name": "User sees only their own compliance record",
      "tags": [
        "@positive",
        "@security"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in with my user credentials"
        },
        {
          "keyword": "When",
          "text": "I access my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should see only my personal compliance information"
        },
        {
          "keyword": "And",
          "text": "I should see my contractor ID matches my login"
        },
        {
          "keyword": "And",
          "text": "I should see my email address matches my login"
        }
      ]
    },
    {
      "name": "Page displays auto-populated data from Focus system",
      "tags": [
        "@positive",
        "@integration"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "my compliance record exists in the Focus system"
        },
        {
          "keyword": "When",
          "text": "I view my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should see my first name and last name combined in the name field"
        },
        {
          "keyword": "And",
          "text": "I should see my contractor ID auto-populated"
        },
        {
          "keyword": "And",
          "text": "I should see my email ID auto-populated"
        },
        {
          "keyword": "And",
          "text": "all fields should be populated from the Focus system"
        }
      ]
    },
    {
      "name": "Requirements section is hidden from driver view",
      "tags": [
        "@positive",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a driver user"
        },
        {
          "keyword": "When",
          "text": "I view my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should not see a requirements section"
        },
        {
          "keyword": "And",
          "text": "the page should only show my personal compliance information"
        }
      ]
    },
    {
      "name": "Unauthorized user cannot access compliance record",
      "tags": [
        "@negative",
        "@security"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am not logged in"
        },
        {
          "keyword": "When",
          "text": "I try to access the compliance record page directly"
        },
        {
          "keyword": "Then",
          "text": "I should be redirected to the login page"
        },
        {
          "keyword": "And",
          "text": "I should see a message requiring authentication"
        }
      ]
    },
    {
      "name": "Error handling when compliance record API is unavailable",
      "tags": [
        "@negative",
        "@error-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a valid user"
        },
        {
          "keyword": "And",
          "text": "the Focus system API is temporarily unavailable"
        },
        {
          "keyword": "When",
          "text": "I try to view my compliance record"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about system unavailability"
        },
        {
          "keyword": "And",
          "text": "I should be provided with instructions to try again later"
        }
      ]
    },
    {
      "name": "User with no compliance record sees appropriate message",
      "tags": [
        "@negative",
        "@data-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a valid user"
        },
        {
          "keyword": "And",
          "text": "I do not have a compliance record in the Focus system"
        },
        {
          "keyword": "When",
          "text": "I navigate to my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "I should see a message indicating no compliance record found"
        },
        {
          "keyword": "And",
          "text": "I should see contact information for assistance"
        }
      ]
    },
    {
      "name": "Session timeout while viewing compliance record",
      "tags": [
        "@negative",
        "@session"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing my compliance record"
        },
        {
          "keyword": "And",
          "text": "my session has expired"
        },
        {
          "keyword": "When",
          "text": "I try to interact with the page"
        },
        {
          "keyword": "Then",
          "text": "I should be prompted to log in again"
        },
        {
          "keyword": "And",
          "text": "I should be redirected to the login page"
        }
      ]
    },
    {
      "name": "User with maximum length name displays correctly",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in with a user account that has the maximum allowed name length"
        },
        {
          "keyword": "When",
          "text": "I view my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "my full name should be displayed correctly without truncation"
        },
        {
          "keyword": "And",
          "text": "the page layout should remain intact"
        }
      ]
    },
    {
      "name": "User with special characters in name displays correctly",
      "tags": [
        "@edge-case",
        "@character-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in with a user account that has special characters in the name"
        },
        {
          "keyword": "When",
          "text": "I view my compliance record page"
        },
        {
          "keyword": "Then",
          "text": "my name with special characters should be displayed correctly"
        },
        {
          "keyword": "And",
          "text": "all special characters should render properly"
        }
      ]
    },
    {
      "name": "User with multiple certificate attachments views all files",
      "tags": [
        "@edge-case",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have multiple certificate of insurance attachments"
        },
        {
          "keyword": "When",
          "text": "I click on the \"Attachments\" tab"
        },
        {
          "keyword": "Then",
          "text": "I should see all my certificate attachments listed"
        },
        {
          "keyword": "And",
          "text": "I should be able to distinguish between different attachment versions"
        }
      ]
    },
    {
      "name": "Alternative navigation to compliance record via profile menu",
      "tags": [
        "@alternative-flow",
        "@navigation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in and on the dashboard"
        },
        {
          "keyword": "When",
          "text": "I click on my profile menu"
        },
        {
          "keyword": "And",
          "text": "I select \"My Compliance Record\" from the dropdown"
        },
        {
          "keyword": "Then",
          "text": "I should be navigated to my compliance record page"
        },
        {
          "keyword": "And",
          "text": "I should see the header \"My Compliance Record\""
        }
      ]
    },
    {
      "name": "Refreshing compliance record page maintains data",
      "tags": [
        "@alternative-flow",
        "@data-persistence"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing my compliance record page"
        },
        {
          "keyword": "When",
          "text": "I refresh the browser page"
        },
        {
          "keyword": "Then",
          "text": "I should remain on the compliance record page"
        },
        {
          "keyword": "And",
          "text": "all my compliance information should still be displayed correctly"
        },
        {
          "keyword": "And",
          "text": "I should not need to log in again"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: View My Compliance Record - Driver/Non-Driver\n  Driver and Non-Driver users can view their own compliance record with personal information and certificate of insurance status\n\n  Background:\n    Given I am on the application\n    And I am logged in as a driver or non-driver user\n\n  @smoke @positive\n  Scenario: Driver successfully views their compliance record\n    Given I am logged in as a driver user\n    When I navigate to my compliance record page\n    Then I should see the header \"My Compliance Record\"\n    And I should see my name displayed\n    And I should see my contractor ID\n    And I should see my email address\n    And I should see the attachments tab\n\n  @smoke @positive\n  Scenario: Non-driver successfully views their compliance record\n    Given I am logged in as a non-driver user\n    When I navigate to my compliance record page\n    Then I should see the header \"My Compliance Record\"\n    And I should see my personal information displayed\n    And I should see my contractor ID\n    And I should see my email address\n\n  @positive @attachments\n  Scenario: User views certificate of insurance in attachments tab\n    Given I am viewing my compliance record\n    And I have a certificate of insurance on file\n    When I click on the \"Attachments\" tab\n    Then I should see my certificate of insurance attachment\n    And I should be able to view the attachment details\n\n  @positive @security\n  Scenario: User sees only their own compliance record\n    Given I am logged in with my user credentials\n    When I access my compliance record page\n    Then I should see only my personal compliance information\n    And I should see my contractor ID matches my login\n    And I should see my email address matches my login\n\n  @positive @integration\n  Scenario: Page displays auto-populated data from Focus system\n    Given my compliance record exists in the Focus system\n    When I view my compliance record page\n    Then I should see my first name and last name combined in the name field\n    And I should see my contractor ID auto-populated\n    And I should see my email ID auto-populated\n    And all fields should be populated from the Focus system\n\n  @positive @permissions\n  Scenario: Requirements section is hidden from driver view\n    Given I am logged in as a driver user\n    When I view my compliance record page\n    Then I should not see a requirements section\n    And the page should only show my personal compliance information\n\n  @negative @security\n  Scenario: Unauthorized user cannot access compliance record\n    Given I am not logged in\n    When I try to access the compliance record page directly\n    Then I should be redirected to the login page\n    And I should see a message requiring authentication\n\n  @negative @error-handling\n  Scenario: Error handling when compliance record API is unavailable\n    Given I am logged in as a valid user\n    And the Focus system API is temporarily unavailable\n    When I try to view my compliance record\n    Then I should see an error message about system unavailability\n    And I should be provided with instructions to try again later\n\n  @negative @data-handling\n  Scenario: User with no compliance record sees appropriate message\n    Given I am logged in as a valid user\n    And I do not have a compliance record in the Focus system\n    When I navigate to my compliance record page\n    Then I should see a message indicating no compliance record found\n    And I should see contact information for assistance\n\n  @negative @session\n  Scenario: Session timeout while viewing compliance record\n    Given I am viewing my compliance record\n    And my session has expired\n    When I try to interact with the page\n    Then I should be prompted to log in again\n    And I should be redirected to the login page\n\n  @edge-case @boundary\n  Scenario: User with maximum length name displays correctly\n    Given I am logged in with a user account that has the maximum allowed name length\n    When I view my compliance record page\n    Then my full name should be displayed correctly without truncation\n    And the page layout should remain intact\n\n  @edge-case @character-handling\n  Scenario: User with special characters in name displays correctly\n    Given I am logged in with a user account that has special characters in the name\n    When I view my compliance record page\n    Then my name with special characters should be displayed correctly\n    And all special characters should render properly\n\n  @edge-case @attachments\n  Scenario: User with multiple certificate attachments views all files\n    Given I have multiple certificate of insurance attachments\n    When I click on the \"Attachments\" tab\n    Then I should see all my certificate attachments listed\n    And I should be able to distinguish between different attachment versions\n\n  @alternative-flow @navigation\n  Scenario: Alternative navigation to compliance record via profile menu\n    Given I am logged in and on the dashboard\n    When I click on my profile menu\n    And I select \"My Compliance Record\" from the dropdown\n    Then I should be navigated to my compliance record page\n    And I should see the header \"My Compliance Record\"\n\n  @alternative-flow @data-persistence\n  Scenario: Refreshing compliance record page maintains data\n    Given I am viewing my compliance record page\n    When I refresh the browser page\n    Then I should remain on the compliance record page\n    And all my compliance information should still be displayed correctly\n    And I should not need to log in again"
}