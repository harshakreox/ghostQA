{
  "id": "feature_1764930384.814121",
  "name": "Export Compliance Records",
  "description": "Back Office Users can export compliance records data to Excel format for reporting and analysis purposes",
  "created_at": "2025-12-05T15:56:24.814121",
  "updated_at": "2025-12-05T15:56:28.862520",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am logged in as a Back Office User"
    },
    {
      "keyword": "And",
      "text": "I am on the compliance records dashboard"
    }
  ],
  "scenarios": [
    {
      "name": "Successfully export all compliance records when no filters applied",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "no filters are applied to the records"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain all compliance records"
        },
        {
          "keyword": "And",
          "text": "the file should include all visible columns from the list view"
        }
      ]
    },
    {
      "name": "Successfully export filtered compliance records",
      "tags": [
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have applied filters to the records"
        },
        {
          "keyword": "And",
          "text": "filtered results are displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the filtered records"
        },
        {
          "keyword": "And",
          "text": "the file should exclude records that don't match the filter criteria"
        }
      ]
    },
    {
      "name": "Verify exported file has correct naming convention",
      "tags": [
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file name should follow the format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\""
        },
        {
          "keyword": "And",
          "text": "the date in the filename should be today's date"
        }
      ]
    },
    {
      "name": "Successfully export searched compliance records",
      "tags": [
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have performed a search for specific records"
        },
        {
          "keyword": "And",
          "text": "search results are displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain only the searched records"
        },
        {
          "keyword": "And",
          "text": "all visible columns should be included in the export"
        }
      ]
    },
    {
      "name": "Export includes all visible columns in correct order",
      "tags": [
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "all columns are visible in the list view"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain all visible columns"
        },
        {
          "keyword": "And",
          "text": "the column order should match the list view display"
        }
      ]
    },
    {
      "name": "Export works with combined filters and search",
      "tags": [
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "I have applied both filters and search criteria"
        },
        {
          "keyword": "And",
          "text": "combined filtered and searched results are displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain only records matching both filter and search criteria"
        }
      ]
    },
    {
      "name": "Export button is disabled when no records are available",
      "tags": [
        "@negative"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "no records are available to display"
        },
        {
          "keyword": "When",
          "text": "I look at the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "the \"Export\" button should be disabled"
        },
        {
          "keyword": "And",
          "text": "I should not be able to click the \"Export\" button"
        }
      ]
    },
    {
      "name": "Export fails when user lacks proper permissions",
      "tags": [
        "@negative"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am logged in as a user without export permissions"
        },
        {
          "keyword": "And",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I attempt to click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an access denied message"
        },
        {
          "keyword": "And",
          "text": "no file should be downloaded"
        }
      ]
    },
    {
      "name": "Export handles network error gracefully",
      "tags": [
        "@negative"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "there is a network connectivity issue"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message indicating export failed"
        },
        {
          "keyword": "And",
          "text": "no incomplete file should be downloaded"
        }
      ]
    },
    {
      "name": "Export fails when server is unavailable",
      "tags": [
        "@negative"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "the server is temporarily unavailable"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see a server error message"
        },
        {
          "keyword": "And",
          "text": "the export should not complete"
        }
      ]
    },
    {
      "name": "Export handles maximum record limit boundary",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "the list contains the maximum allowed number of records"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded successfully"
        },
        {
          "keyword": "And",
          "text": "all maximum allowed records should be included in the export"
        }
      ]
    },
    {
      "name": "Export handles single record boundary",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "only one record is available"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain the single record with all columns"
        }
      ]
    },
    {
      "name": "Export maintains data integrity for special characters",
      "tags": [
        "@edge-case"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "And",
          "text": "some records contain special characters and symbols"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "all special characters should be preserved correctly in the exported data"
        }
      ]
    },
    {
      "name": "Alternative export via keyboard shortcut",
      "tags": [
        "@alternative-flow"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "When",
          "text": "I use the keyboard shortcut for export"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the export should work the same as clicking the \"Export\" button"
        }
      ]
    },
    {
      "name": "Export after refreshing filtered results",
      "tags": [
        "@alternative-flow"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing filtered compliance records"
        },
        {
          "keyword": "And",
          "text": "I refresh the page"
        },
        {
          "keyword": "And",
          "text": "the same filtered results are displayed"
        },
        {
          "keyword": "When",
          "text": "I click the \"Export\" button"
        },
        {
          "keyword": "Then",
          "text": "an Excel file should be downloaded"
        },
        {
          "keyword": "And",
          "text": "the file should contain the refreshed filtered records"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Export Compliance Records\n  Back Office Users can export compliance records data to Excel format for reporting and analysis purposes\n\n  Background:\n    Given I am logged in as a Back Office User\n    And I am on the compliance records dashboard\n\n  @smoke @positive\n  Scenario: Successfully export all compliance records when no filters applied\n    Given I am viewing the compliance records list\n    And no filters are applied to the records\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain all compliance records\n    And the file should include all visible columns from the list view\n\n  @positive\n  Scenario: Successfully export filtered compliance records\n    Given I am viewing the compliance records list\n    And I have applied filters to the records\n    And filtered results are displayed\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain only the filtered records\n    And the file should exclude records that don't match the filter criteria\n\n  @positive\n  Scenario: Verify exported file has correct naming convention\n    Given I am viewing the compliance records list\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file name should follow the format \"COI_Compliance_Records_YYYY-MM-DD.xlsx\"\n    And the date in the filename should be today's date\n\n  @positive\n  Scenario: Successfully export searched compliance records\n    Given I am viewing the compliance records list\n    And I have performed a search for specific records\n    And search results are displayed\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain only the searched records\n    And all visible columns should be included in the export\n\n  @positive\n  Scenario: Export includes all visible columns in correct order\n    Given I am viewing the compliance records list\n    And all columns are visible in the list view\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain all visible columns\n    And the column order should match the list view display\n\n  @positive\n  Scenario: Export works with combined filters and search\n    Given I am viewing the compliance records list\n    And I have applied both filters and search criteria\n    And combined filtered and searched results are displayed\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain only records matching both filter and search criteria\n\n  @negative\n  Scenario: Export button is disabled when no records are available\n    Given I am viewing the compliance records list\n    And no records are available to display\n    When I look at the \"Export\" button\n    Then the \"Export\" button should be disabled\n    And I should not be able to click the \"Export\" button\n\n  @negative\n  Scenario: Export fails when user lacks proper permissions\n    Given I am logged in as a user without export permissions\n    And I am viewing the compliance records list\n    When I attempt to click the \"Export\" button\n    Then I should see an access denied message\n    And no file should be downloaded\n\n  @negative\n  Scenario: Export handles network error gracefully\n    Given I am viewing the compliance records list\n    And there is a network connectivity issue\n    When I click the \"Export\" button\n    Then I should see an error message indicating export failed\n    And no incomplete file should be downloaded\n\n  @negative\n  Scenario: Export fails when server is unavailable\n    Given I am viewing the compliance records list\n    And the server is temporarily unavailable\n    When I click the \"Export\" button\n    Then I should see a server error message\n    And the export should not complete\n\n  @edge-case @boundary\n  Scenario: Export handles maximum record limit boundary\n    Given I am viewing the compliance records list\n    And the list contains the maximum allowed number of records\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded successfully\n    And all maximum allowed records should be included in the export\n\n  @edge-case @boundary\n  Scenario: Export handles single record boundary\n    Given I am viewing the compliance records list\n    And only one record is available\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain the single record with all columns\n\n  @edge-case\n  Scenario: Export maintains data integrity for special characters\n    Given I am viewing the compliance records list\n    And some records contain special characters and symbols\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And all special characters should be preserved correctly in the exported data\n\n  @alternative-flow\n  Scenario: Alternative export via keyboard shortcut\n    Given I am viewing the compliance records list\n    When I use the keyboard shortcut for export\n    Then an Excel file should be downloaded\n    And the export should work the same as clicking the \"Export\" button\n\n  @alternative-flow\n  Scenario: Export after refreshing filtered results\n    Given I am viewing filtered compliance records\n    And I refresh the page\n    And the same filtered results are displayed\n    When I click the \"Export\" button\n    Then an Excel file should be downloaded\n    And the file should contain the refreshed filtered records"
}