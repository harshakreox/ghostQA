{
  "id": "feature_1764931485.120849",
  "name": "Create New Compliance Record",
  "description": "Client Admin can create new compliance records for company drivers or contractors through the Add Record functionality",
  "created_at": "2025-12-05T16:14:45.120849",
  "updated_at": "2025-12-05T16:14:47.671271",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am on the Compliance Dashboard"
    },
    {
      "keyword": "And",
      "text": "I am logged in as a Client Admin"
    }
  ],
  "scenarios": [
    {
      "name": "Successfully create a new compliance record",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the Compliance Dashboard list"
        },
        {
          "keyword": "When",
          "text": "I click the \"Add Record\" button"
        },
        {
          "keyword": "Then",
          "text": "I should be navigated to a blank compliance record form"
        },
        {
          "keyword": "And",
          "text": "the Requirements tab should be hidden"
        },
        {
          "keyword": "And",
          "text": "the Attachments tab should be available"
        },
        {
          "keyword": "And",
          "text": "the \"Save\" button should be available"
        },
        {
          "keyword": "And",
          "text": "the \"Cancel\" button should be available"
        }
      ]
    },
    {
      "name": "Save compliance record and verify dashboard redirect",
      "tags": [
        "@positive",
        "@navigation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the blank compliance record form"
        },
        {
          "keyword": "When",
          "text": "I fill in the required compliance record fields"
        },
        {
          "keyword": "And",
          "text": "I click the \"Save\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see a success message \"Compliance record created successfully\""
        },
        {
          "keyword": "And",
          "text": "I should be redirected to the Compliance Dashboard list view"
        }
      ]
    },
    {
      "name": "New record appears in dashboard list after creation",
      "tags": [
        "@positive",
        "@data-persistence"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have successfully created a new compliance record"
        },
        {
          "keyword": "When",
          "text": "I am redirected to the Compliance Dashboard list view"
        },
        {
          "keyword": "Then",
          "text": "the new compliance record should appear in the list"
        },
        {
          "keyword": "And",
          "text": "the record should have a default Overall Status of \"Non-Compliant\""
        }
      ]
    },
    {
      "name": "Upload documents in Attachments tab",
      "tags": [
        "@positive",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance record form"
        },
        {
          "keyword": "When",
          "text": "I click on the Attachments tab"
        },
        {
          "keyword": "And",
          "text": "I upload a valid document file"
        },
        {
          "keyword": "And",
          "text": "I save the compliance record"
        },
        {
          "keyword": "Then",
          "text": "the document should be attached to the record"
        },
        {
          "keyword": "And",
          "text": "the record should be saved successfully"
        }
      ]
    },
    {
      "name": "Cancel record creation returns to dashboard",
      "tags": [
        "@positive",
        "@navigation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the blank compliance record form"
        },
        {
          "keyword": "When",
          "text": "I fill in some compliance record fields"
        },
        {
          "keyword": "And",
          "text": "I click the \"Cancel\" button"
        },
        {
          "keyword": "Then",
          "text": "I should be returned to the Compliance Dashboard list view"
        },
        {
          "keyword": "And",
          "text": "no new record should be created"
        }
      ]
    },
    {
      "name": "Record visibility for Back Office users",
      "tags": [
        "@positive",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I have created a new compliance record as Client Admin"
        },
        {
          "keyword": "When",
          "text": "a Back Office user logs in"
        },
        {
          "keyword": "And",
          "text": "they navigate to the Compliance Dashboard"
        },
        {
          "keyword": "Then",
          "text": "they should be able to see the newly created record"
        },
        {
          "keyword": "And",
          "text": "the record should be available for review and updates"
        }
      ]
    },
    {
      "name": "Save record without required fields shows validation error",
      "tags": [
        "@negative",
        "@validation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the blank compliance record form"
        },
        {
          "keyword": "When",
          "text": "I leave required fields empty"
        },
        {
          "keyword": "And",
          "text": "I click the \"Save\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see validation error messages"
        },
        {
          "keyword": "And",
          "text": "the record should not be saved"
        },
        {
          "keyword": "And",
          "text": "I should remain on the form page"
        }
      ]
    },
    {
      "name": "Upload invalid file type in Attachments shows error",
      "tags": [
        "@negative",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance record form"
        },
        {
          "keyword": "When",
          "text": "I click on the Attachments tab"
        },
        {
          "keyword": "And",
          "text": "I attempt to upload an invalid file type"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about invalid file type"
        },
        {
          "keyword": "And",
          "text": "the file should not be attached"
        }
      ]
    },
    {
      "name": "Form validation with missing driver information",
      "tags": [
        "@negative",
        "@validation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance record form"
        },
        {
          "keyword": "When",
          "text": "I fill in record details but leave driver information empty"
        },
        {
          "keyword": "And",
          "text": "I click the \"Save\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about missing driver information"
        },
        {
          "keyword": "And",
          "text": "the form should not be submitted"
        }
      ]
    },
    {
      "name": "Network error during record save",
      "tags": [
        "@negative",
        "@error-handling"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance record form with valid data entered"
        },
        {
          "keyword": "When",
          "text": "a network error occurs"
        },
        {
          "keyword": "And",
          "text": "I click the \"Save\" button"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about the save failure"
        },
        {
          "keyword": "And",
          "text": "I should remain on the form with my data intact"
        }
      ]
    },
    {
      "name": "Maximum file size limit in Attachments",
      "tags": [
        "@edge-case",
        "@boundary"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the Attachments tab"
        },
        {
          "keyword": "When",
          "text": "I attempt to upload a file that exceeds the maximum size limit"
        },
        {
          "keyword": "Then",
          "text": "I should see an error message about file size limit"
        },
        {
          "keyword": "And",
          "text": "the file should not be uploaded"
        }
      ]
    },
    {
      "name": "Multiple file uploads in single record",
      "tags": [
        "@edge-case",
        "@attachments"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the Attachments tab"
        },
        {
          "keyword": "When",
          "text": "I upload multiple valid documents"
        },
        {
          "keyword": "And",
          "text": "I save the compliance record"
        },
        {
          "keyword": "Then",
          "text": "all documents should be attached to the record"
        },
        {
          "keyword": "And",
          "text": "the record should be saved successfully"
        }
      ]
    },
    {
      "name": "Session timeout during form completion",
      "tags": [
        "@edge-case",
        "@session"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am filling out the compliance record form"
        },
        {
          "keyword": "When",
          "text": "my session expires due to inactivity"
        },
        {
          "keyword": "And",
          "text": "I attempt to save the record"
        },
        {
          "keyword": "Then",
          "text": "I should be prompted to log in again"
        },
        {
          "keyword": "And",
          "text": "my form data should be preserved if possible"
        }
      ]
    },
    {
      "name": "Add Record button accessibility and keyboard navigation",
      "tags": [
        "@alternative-flow",
        "@accessibility"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the Compliance Dashboard"
        },
        {
          "keyword": "When",
          "text": "I navigate using keyboard tab keys"
        },
        {
          "keyword": "And",
          "text": "I reach the \"Add Record\" button"
        },
        {
          "keyword": "And",
          "text": "I press Enter or Space"
        },
        {
          "keyword": "Then",
          "text": "the blank compliance record form should open"
        },
        {
          "keyword": "And",
          "text": "focus should be set appropriately on the form"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Create New Compliance Record\n  Client Admin can create new compliance records for company drivers or contractors through the Add Record functionality\n\n  Background:\n    Given I am on the Compliance Dashboard\n    And I am logged in as a Client Admin\n\n  @smoke @positive\n  Scenario: Successfully create a new compliance record\n    Given I am viewing the Compliance Dashboard list\n    When I click the \"Add Record\" button\n    Then I should be navigated to a blank compliance record form\n    And the Requirements tab should be hidden\n    And the Attachments tab should be available\n    And the \"Save\" button should be available\n    And the \"Cancel\" button should be available\n\n  @positive @navigation\n  Scenario: Save compliance record and verify dashboard redirect\n    Given I am on the blank compliance record form\n    When I fill in the required compliance record fields\n    And I click the \"Save\" button\n    Then I should see a success message \"Compliance record created successfully\"\n    And I should be redirected to the Compliance Dashboard list view\n\n  @positive @data-persistence\n  Scenario: New record appears in dashboard list after creation\n    Given I have successfully created a new compliance record\n    When I am redirected to the Compliance Dashboard list view\n    Then the new compliance record should appear in the list\n    And the record should have a default Overall Status of \"Non-Compliant\"\n\n  @positive @attachments\n  Scenario: Upload documents in Attachments tab\n    Given I am on the compliance record form\n    When I click on the Attachments tab\n    And I upload a valid document file\n    And I save the compliance record\n    Then the document should be attached to the record\n    And the record should be saved successfully\n\n  @positive @navigation\n  Scenario: Cancel record creation returns to dashboard\n    Given I am on the blank compliance record form\n    When I fill in some compliance record fields\n    And I click the \"Cancel\" button\n    Then I should be returned to the Compliance Dashboard list view\n    And no new record should be created\n\n  @positive @permissions\n  Scenario: Record visibility for Back Office users\n    Given I have created a new compliance record as Client Admin\n    When a Back Office user logs in\n    And they navigate to the Compliance Dashboard\n    Then they should be able to see the newly created record\n    And the record should be available for review and updates\n\n  @negative @validation\n  Scenario: Save record without required fields shows validation error\n    Given I am on the blank compliance record form\n    When I leave required fields empty\n    And I click the \"Save\" button\n    Then I should see validation error messages\n    And the record should not be saved\n    And I should remain on the form page\n\n  @negative @attachments\n  Scenario: Upload invalid file type in Attachments shows error\n    Given I am on the compliance record form\n    When I click on the Attachments tab\n    And I attempt to upload an invalid file type\n    Then I should see an error message about invalid file type\n    And the file should not be attached\n\n  @negative @validation\n  Scenario: Form validation with missing driver information\n    Given I am on the compliance record form\n    When I fill in record details but leave driver information empty\n    And I click the \"Save\" button\n    Then I should see an error message about missing driver information\n    And the form should not be submitted\n\n  @negative @error-handling\n  Scenario: Network error during record save\n    Given I am on the compliance record form with valid data entered\n    When a network error occurs\n    And I click the \"Save\" button\n    Then I should see an error message about the save failure\n    And I should remain on the form with my data intact\n\n  @edge-case @boundary\n  Scenario: Maximum file size limit in Attachments\n    Given I am on the Attachments tab\n    When I attempt to upload a file that exceeds the maximum size limit\n    Then I should see an error message about file size limit\n    And the file should not be uploaded\n\n  @edge-case @attachments\n  Scenario: Multiple file uploads in single record\n    Given I am on the Attachments tab\n    When I upload multiple valid documents\n    And I save the compliance record\n    Then all documents should be attached to the record\n    And the record should be saved successfully\n\n  @edge-case @session\n  Scenario: Session timeout during form completion\n    Given I am filling out the compliance record form\n    When my session expires due to inactivity\n    And I attempt to save the record\n    Then I should be prompted to log in again\n    And my form data should be preserved if possible\n\n  @alternative-flow @accessibility\n  Scenario: Add Record button accessibility and keyboard navigation\n    Given I am on the Compliance Dashboard\n    When I navigate using keyboard tab keys\n    And I reach the \"Add Record\" button\n    And I press Enter or Space\n    Then the blank compliance record form should open\n    And focus should be set appropriately on the form"
}