{
  "id": "feature_1764931697.17217",
  "name": "Contractor Compliance Dashboard View",
  "description": "Allows contractors to view compliance dashboard with company-specific summary metrics and compliance records in read-only mode",
  "created_at": "2025-12-05T16:18:17.172170",
  "updated_at": "2025-12-05T16:18:21.975263",
  "project_id": "ce1a8cc0-da85-48e2-b349-7bf9311e023f",
  "background": [
    {
      "keyword": "Given",
      "text": "I am logged in as a contractor user"
    },
    {
      "keyword": "And",
      "text": "I am on the compliance dashboard"
    }
  ],
  "scenarios": [
    {
      "name": "Contractor views dashboard with correct page header and subtitle",
      "tags": [
        "@smoke",
        "@positive"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance dashboard page"
        },
        {
          "keyword": "Then",
          "text": "I should see the page header \"Compliance Dashboard - My Company Name\""
        },
        {
          "keyword": "And",
          "text": "I should see the subtitle \"Certificate of insurance compliance overview\""
        }
      ]
    },
    {
      "name": "Dashboard displays three summary metric cards with company-filtered data",
      "tags": [
        "@positive",
        "@metrics"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance dashboard"
        },
        {
          "keyword": "Then",
          "text": "I should see the \"Compliance Rate\" metric card"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Expiring Within 30 Days\" metric card"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Expired Certifications\" metric card"
        },
        {
          "keyword": "And",
          "text": "all metrics should display data for my company only"
        }
      ]
    },
    {
      "name": "Compliance records section displays with list view of company records",
      "tags": [
        "@positive",
        "@records"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance dashboard"
        },
        {
          "keyword": "When",
          "text": "I scroll to the compliance records section"
        },
        {
          "keyword": "Then",
          "text": "I should see the \"Compliance Records\" section header"
        },
        {
          "keyword": "And",
          "text": "I should see a list view displaying only my company's compliance records"
        }
      ]
    },
    {
      "name": "List view displays correct columns for contractor role",
      "tags": [
        "@positive",
        "@ui"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "Then",
          "text": "I should see the \"First Name\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Last Name\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"ID Number\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Status\" column with color-coded badges"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Date Created\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Policy Effective Date\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Policy Expiration Date\" column"
        },
        {
          "keyword": "And",
          "text": "I should see the \"Actions\" column"
        }
      ]
    },
    {
      "name": "Actions column displays only view and attachments buttons",
      "tags": [
        "@positive",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing a compliance record in the list"
        },
        {
          "keyword": "Then",
          "text": "I should see the view action button with eye icon"
        },
        {
          "keyword": "And",
          "text": "I should see the attachments action button with paperclip icon"
        },
        {
          "keyword": "And",
          "text": "I should not see any edit or delete buttons"
        }
      ]
    },
    {
      "name": "Requirements tab is hidden for contractor users",
      "tags": [
        "@positive",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am on the compliance dashboard"
        },
        {
          "keyword": "Then",
          "text": "I should not see a \"Requirements\" tab"
        },
        {
          "keyword": "And",
          "text": "the tab navigation should not include requirements access"
        }
      ]
    },
    {
      "name": "No manual add record button is displayed",
      "tags": [
        "@positive",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records section"
        },
        {
          "keyword": "Then",
          "text": "I should not see an \"Add Record\" button"
        },
        {
          "keyword": "And",
          "text": "I should not see any manual record creation options"
        }
      ]
    },
    {
      "name": "Export functionality is disabled for contractors",
      "tags": [
        "@negative",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "Then",
          "text": "I should not see an \"Export\" button"
        },
        {
          "keyword": "And",
          "text": "I should not have access to any data export options"
        }
      ]
    },
    {
      "name": "Contractor cannot edit compliance records",
      "tags": [
        "@negative",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing a compliance record"
        },
        {
          "keyword": "When",
          "text": "I click the view action button"
        },
        {
          "keyword": "Then",
          "text": "the record should open in read-only mode"
        },
        {
          "keyword": "And",
          "text": "I should not see any edit options or buttons"
        },
        {
          "keyword": "And",
          "text": "all fields should be non-editable"
        }
      ]
    },
    {
      "name": "Contractor cannot delete compliance records",
      "tags": [
        "@negative",
        "@permissions"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing the compliance records list"
        },
        {
          "keyword": "Then",
          "text": "I should not see any delete buttons or options"
        },
        {
          "keyword": "And",
          "text": "there should be no bulk delete functionality available"
        }
      ]
    },
    {
      "name": "Dashboard displays empty state when no compliance records exist",
      "tags": [
        "@edge-case",
        "@empty-state"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "my company has no compliance records"
        },
        {
          "keyword": "When",
          "text": "I view the compliance dashboard"
        },
        {
          "keyword": "Then",
          "text": "the summary metric cards should show zero values"
        },
        {
          "keyword": "And",
          "text": "the compliance records section should display an empty state message"
        }
      ]
    },
    {
      "name": "Status badges display correct colors for compliance states",
      "tags": [
        "@edge-case",
        "@visual"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "I am viewing compliance records with different statuses"
        },
        {
          "keyword": "Then",
          "text": "compliant records should display green status badges"
        },
        {
          "keyword": "And",
          "text": "non-compliant records should display red status badges"
        },
        {
          "keyword": "And",
          "text": "the status text should clearly indicate compliance state"
        }
      ]
    },
    {
      "name": "Policy expiration date displays calculated date when not specified",
      "tags": [
        "@edge-case",
        "@calculation"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "a compliance record has no specified policy expiration date"
        },
        {
          "keyword": "When",
          "text": "I view the record in the list"
        },
        {
          "keyword": "Then",
          "text": "the policy expiration date should display one year from the effective date"
        },
        {
          "keyword": "And",
          "text": "the date should be in YYYY-MM-DD format"
        }
      ]
    },
    {
      "name": "Dashboard filters metrics to show only contractor company data",
      "tags": [
        "@alternative-flow",
        "@filtering"
      ],
      "description": null,
      "steps": [
        {
          "keyword": "Given",
          "text": "multiple companies have compliance records in the system"
        },
        {
          "keyword": "When",
          "text": "I view the dashboard as a contractor"
        },
        {
          "keyword": "Then",
          "text": "all summary metrics should reflect only my company's data"
        },
        {
          "keyword": "And",
          "text": "I should not see any data from other companies"
        },
        {
          "keyword": "And",
          "text": "the compliance records list should show only my company's records"
        }
      ]
    }
  ],
  "gherkin_content": "Feature: Contractor Compliance Dashboard View\n  Allows contractors to view compliance dashboard with company-specific summary metrics and compliance records in read-only mode\n\n  Background:\n    Given I am logged in as a contractor user\n    And I am on the compliance dashboard\n\n  @smoke @positive\n  Scenario: Contractor views dashboard with correct page header and subtitle\n    Given I am on the compliance dashboard page\n    Then I should see the page header \"Compliance Dashboard - My Company Name\"\n    And I should see the subtitle \"Certificate of insurance compliance overview\"\n\n  @positive @metrics\n  Scenario: Dashboard displays three summary metric cards with company-filtered data\n    Given I am viewing the compliance dashboard\n    Then I should see the \"Compliance Rate\" metric card\n    And I should see the \"Expiring Within 30 Days\" metric card\n    And I should see the \"Expired Certifications\" metric card\n    And all metrics should display data for my company only\n\n  @positive @records\n  Scenario: Compliance records section displays with list view of company records\n    Given I am on the compliance dashboard\n    When I scroll to the compliance records section\n    Then I should see the \"Compliance Records\" section header\n    And I should see a list view displaying only my company's compliance records\n\n  @positive @ui\n  Scenario: List view displays correct columns for contractor role\n    Given I am viewing the compliance records list\n    Then I should see the \"First Name\" column\n    And I should see the \"Last Name\" column\n    And I should see the \"ID Number\" column\n    And I should see the \"Status\" column with color-coded badges\n    And I should see the \"Date Created\" column\n    And I should see the \"Policy Effective Date\" column\n    And I should see the \"Policy Expiration Date\" column\n    And I should see the \"Actions\" column\n\n  @positive @permissions\n  Scenario: Actions column displays only view and attachments buttons\n    Given I am viewing a compliance record in the list\n    Then I should see the view action button with eye icon\n    And I should see the attachments action button with paperclip icon\n    And I should not see any edit or delete buttons\n\n  @positive @permissions\n  Scenario: Requirements tab is hidden for contractor users\n    Given I am on the compliance dashboard\n    Then I should not see a \"Requirements\" tab\n    And the tab navigation should not include requirements access\n\n  @positive @permissions\n  Scenario: No manual add record button is displayed\n    Given I am viewing the compliance records section\n    Then I should not see an \"Add Record\" button\n    And I should not see any manual record creation options\n\n  @negative @permissions\n  Scenario: Export functionality is disabled for contractors\n    Given I am viewing the compliance records list\n    Then I should not see an \"Export\" button\n    And I should not have access to any data export options\n\n  @negative @permissions\n  Scenario: Contractor cannot edit compliance records\n    Given I am viewing a compliance record\n    When I click the view action button\n    Then the record should open in read-only mode\n    And I should not see any edit options or buttons\n    And all fields should be non-editable\n\n  @negative @permissions\n  Scenario: Contractor cannot delete compliance records\n    Given I am viewing the compliance records list\n    Then I should not see any delete buttons or options\n    And there should be no bulk delete functionality available\n\n  @edge-case @empty-state\n  Scenario: Dashboard displays empty state when no compliance records exist\n    Given my company has no compliance records\n    When I view the compliance dashboard\n    Then the summary metric cards should show zero values\n    And the compliance records section should display an empty state message\n\n  @edge-case @visual\n  Scenario: Status badges display correct colors for compliance states\n    Given I am viewing compliance records with different statuses\n    Then compliant records should display green status badges\n    And non-compliant records should display red status badges\n    And the status text should clearly indicate compliance state\n\n  @edge-case @calculation\n  Scenario: Policy expiration date displays calculated date when not specified\n    Given a compliance record has no specified policy expiration date\n    When I view the record in the list\n    Then the policy expiration date should display one year from the effective date\n    And the date should be in YYYY-MM-DD format\n\n  @alternative-flow @filtering\n  Scenario: Dashboard filters metrics to show only contractor company data\n    Given multiple companies have compliance records in the system\n    When I view the dashboard as a contractor\n    Then all summary metrics should reflect only my company's data\n    And I should not see any data from other companies\n    And the compliance records list should show only my company's records"
}